## 모두의 깃&깃허브

### 3장. 버전 가지고 놀기 part.2

#### 버전 되돌리기
1. revert
  - 되돌아간 상태에 대한 "새로운 버전" 을 만드는 방식
  - 되돌리기 전 기존 버전을 삭제하지 않는다는 특징이 있다.
  - 1~5 버전 까지 커밋이 된 상태라고 가정하면, 4버전으로 revert 를 하는 경우 기존에 히스토리가 남아있는 5버전을 유지한채 4버전과 동일한 내용으로 새로운 6버전을 생성한다.
  - 소스트리에선 revert 하고자 하는 히스토리를 우클릭하여 "커밋 되돌리기" 를 클릭한다.
  - 그러면 새로운 커밋으로 Revert "4번째 히스토리" 가 생성된다.

2. reset
  - 되돌아가고자 하는 버전의 시점으로 완전히 되돌아 가는 방식
  - 원하는 버전의 시점 이후에 커밋된 버전이 삭제되는 방식이다.
  - 1~3 버전 까지 커밋이 된 상태에서 2번으로 reset 을 하게되면, 3버전의 버전 내역이 삭제되고 2버전이 최신 버전이 된다.
  - reset 에는 1)soft, 2)mixed, 3)hard 방식이 있다.
  
  1. soft reset
    - 원하는 버전으로 되돌리면서 이후 버전의 파일변경내역과 스테이지에 올라가 있는 상태는 남기는 방식
    - 예를 들어, 1~3버전 중에 2버전으로 soft reset 을 하면 마지막 커밋 히스토리는 2버전이 되고, 3버전에서 적용된 변경된 사항과 변경된 파일이 스테이지에는 등록된다.
    - 즉, 3버전을 "커밋" 한 히스토리만을 삭제하고, 그 직전까지는 남기는 방식이다.
  2. mixed reset
    - 앞에서 이야기한 soft reset 이 변경내용과 스테이지에 올라가있는 상태는 살려둔다고 했다면, mixed reset 은 변경내용만 남기고 스테이지에 올라가있지 않은 상태로 남겨둔다.
    - 즉, 3버전이 "스테이지에 올라간" 내역과 "커밋한" 내역이 삭제된다.
  3. hard reset
    - hard reset 은 원하는 시점의 버전이 커밋된게 마지막 작업이라고 간주하고, 그 이후 작업을 모두 삭제한다.
    - 즉, 2버전으로 hard reset 을 하게되면, 3버전이 있었던 적이 있었냐는 듯 아무런 흔적도 남기지 않는다.(파일의 변경내용도 삭제함)

  소스트리에선 원하는 시점의 히스토리에서 우클릭을 하고, "master 를 이 커밋으로 초기화" 메뉴를 클릭.(master 는 브랜치에 따라 변경될 수 있음)
  reset 모드를 hard 로 변경하고, 확인을 누르면 "파괴적인 작업" 이라는 메세지 팝업이 나오는데 여기서 확인을 누른다.
  그렇게되면, 선택한 커밋 히스토리 이후의 히스토리가 모두 삭제되면서 파일도 변경되지 않는 상태로 되돌아 가게 된다.

#### 스태시(stash)
- 깃에 의해 관리되는 파일의 작업내용을 임시저장하는 기능 혹은 저장소
- 깃에 의해 관리되는 파일은 스테이지에 올라가있는 파일이나 이미 커밋한적이 있는 파일처럼 트래킹(tracking)이 가능한 파일을 의미한다.
- 소스트리에서 상단에 "스태시" 버튼을 클릭하면, 현재 스테이지에 올라가 있지 않은 작업본들을 임시저장할 수 있다.
- 임시저장된 스태시 내용은 좌측 메뉴 중 "치워두기" 를 클릭하면, 스태시에 임시저장된 작업 내용들을 확인할 수 있다.
- 저장된 스태시 중에 작업내용을 되살리고 싶은 작업을 우클릭하여 "스태시 적용" 메뉴를 클릭하고 "스태시를 적용하시겠습니까?" 팝업에서 확인 버튼을 클릭하면 임시저장된 내용을 다시 불러올 수 있다.
- 이 떄, "적용 후 삭제" 에 체크를 한 후에 확인버튼을 클릭하면 스태시 내용을 적용한 후, 저장된 스태시 정보를 삭제한다.



